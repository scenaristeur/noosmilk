"use strict";(self["webpackChunknoosmilk"]=self["webpackChunknoosmilk"]||[]).push([[845],{5618:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var o=a(3396),l=a(7139);const n=e=>((0,o.dD)("data-v-28ca1da5"),e=e(),(0,o.Cn)(),e),r=(0,o.Uk)(" username"),i=(0,o.Uk)(" prefered color "),d=(0,o.Uk)("Save"),s=(0,o.Uk)("download this identity"),u=n((()=>(0,o._)("h4",{class:"alert-heading"},"CAN NOT BE UNDONE !",-1))),c=n((()=>(0,o._)("p",null," You will loose your history ! ",-1))),m=n((()=>(0,o._)("hr",null,null,-1))),h=n((()=>(0,o._)("p",{class:"mb-0"}," Be sur to download the actual identity before ! ",-1))),p=(0,o.Uk)("random user"),w=(0,o.Uk)("remove from this device"),f=n((()=>(0,o._)("br",null,null,-1))),v=n((()=>(0,o._)("br",null,null,-1)));function y(e,t,a,n,y,b){const U=(0,o.up)("b-input"),k=(0,o.up)("b-card-title"),g=(0,o.up)("b-card-text"),_=(0,o.up)("b-button"),C=(0,o.up)("b-card"),W=(0,o.up)("b-icon"),x=(0,o.up)("b-alert"),F=(0,o.up)("b-form-file"),V=(0,o.up)("b-card-group"),$=(0,o.up)("b-container"),E=(0,o.Q2)("b-modal");return(0,o.wg)(),(0,o.j4)($,{class:"user-profile text-light"},{default:(0,o.w5)((()=>[(0,o.Wm)(V,{columns:""},{default:(0,o.w5)((()=>[(0,o.Wm)(C,{"bg-variant":"info","text-variant":"white",header:"Profile",class:"text-center mb-2",tag:"article",style:{"max-width":"20rem"}},{default:(0,o.w5)((()=>[(0,o.Wm)(k,null,{default:(0,o.w5)((()=>[r,(0,o.Wm)(U,{modelValue:b.user.name,"onUpdate:modelValue":t[0]||(t[0]=e=>b.user.name=e),placeholder:"username"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[i,(0,o.Wm)(U,{modelValue:b.user.color,"onUpdate:modelValue":t[1]||(t[1]=e=>b.user.color=e),type:"color"},null,8,["modelValue"])])),_:1}),(0,o.Wm)(_,{onClick:b.save,variant:"primary"},{default:(0,o.w5)((()=>[d])),_:1},8,["onClick"])])),_:1}),(0,o.Wm)(C,{"bg-variant":"info","text-variant":"white",header:"Identity Manager",class:"text-center mb-2",tag:"article",style:{"max-width":"20rem"}},{footer:(0,o.w5)((()=>[(0,o.Wm)(x,{show:"",variant:"warning"},{default:(0,o.w5)((()=>[u,c,m,h])),_:1}),(0,o.Wm)(F,{modelValue:y.identityFile,"onUpdate:modelValue":t[2]||(t[2]=e=>y.identityFile=e),state:Boolean(y.identityFile),placeholder:"Choose a identity file or drop it here...","drop-placeholder":"Drop identity file here..."},null,8,["modelValue","state"]),(0,o.Wm)(_,{size:"sm",onClick:b.randomUser,variant:"outline-warning text-dark"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(W,{"font-scale":"1.5",icon:"dice3","aria-hidden":"true"},null,512),[[E,void 0,void 0,{"modal-share":!0}]]),p])),_:1},8,["onClick"]),(0,o.Wm)(_,{variant:"danger text-dark",onClick:b.removeUser,size:"sm"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(W,{"font-scale":"1.5",icon:"trash","aria-hidden":"true"},null,512),[[E,void 0,void 0,{"modal-share":!0}]]),w])),_:1},8,["onClick"])])),default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(_,{variant:"success text-dark",onClick:b.download},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(W,{"font-scale":"1.5",icon:"download","aria-hidden":"true"},null,512),[[E,void 0,void 0,{"modal-share":!0}]]),s])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),f,v,(0,o.Uk)(" "+(0,l.zw)(b.user),1)])),_:1})}a(7658);var b={name:"UserProfile",data(){return{identityFile:null}},methods:{async randomUser(){let e=await this.$randomUser();console.log(e),this.$store.commit("actor/setUser",e)},save(){this.$store.commit("actor/setUser",this.user),this.$userChanged(),this.$router.push("/")},removeUser(){this.$removeUser(),this.randomUser()},async upload(e,t){const a=new FileReader;await a.addEventListener("load",(()=>{t(a.result)})),a.readAsText(e,"UTF-8")},populateIdentity(e){console.log("populate",e);let t=JSON.parse(e);this.$store.commit("actor/setUser",t),this.$userChanged()},download(){console.log(this.user);var e=JSON.stringify(this.user,null,2);let t=this.user.name;var a=prompt("Choose a name for the exported file :",t);if(null==a||""==a)return;let o="application/json",l=a+".json";var n=new Blob([e],{type:o}),r=document.createElement("a");r.download=l,r.innerHTML="Download File",-1!=navigator.userAgent.indexOf("Chrome")?r.href=window.URL.createObjectURL(n):(r.href=window.URL.createObjectURL(n),r.target="_blank",r.style.display="none",document.body.appendChild(r));var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(i),setTimeout((function(){document.body.removeChild(r),window.URL.revokeObjectURL(r)}),1e3)}},watch:{identityFile(){console.log(this.identityFile),this.upload(this.identityFile,this.populateIdentity)}},computed:{user(){return this.$store.state.actor.user}}},U=a(89);const k=(0,U.Z)(b,[["render",y],["__scopeId","data-v-28ca1da5"]]);var g=k}}]);
//# sourceMappingURL=profile.9d309be6.js.map