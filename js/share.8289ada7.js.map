{"version":3,"file":"js/share.8289ada7.js","mappings":"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","sources":["webpack://noosmilk/./src/views/ShareView.vue","webpack://noosmilk/./src/views/ShareView.vue?e957"],"sourcesContent":["<template>\n  <div class=\"about\">\n    <h3>Share in the Noosphere</h3>\n\n\n    <b-container fluid>\n\n\n      <b-row class=\"my-1\" v-for=\"(value, field) in query\" :key=\"field\">\n        <b-col sm=\"3\">\n          <label :for=\"`share-field-${field}`\"><code>{{ field }}</code>:</label>\n        </b-col>\n        <b-col sm=\"9\">\n          <b-form-input\n          :id=\"`share-field-${field}`\"\n          :placeholder=\"field\"\n          :value=\"value\"\n          ></b-form-input>\n        </b-col>\n\n      </b-row>\n      <hr>\n      <b-row class=\"my-1\">\n        <b-col sm=\"3\">\n          <label for=\"roomId\"><code>roomId</code>:</label>\n        </b-col>\n        <b-col sm=\"9\">\n          <b-form-input\n          id=\"roomId\"\n          placeHolder=\"roomId\"\n          v-model=\"roomId\"\n          @input=\"changeRoomId\"\n          ></b-form-input>\n        </b-col>\n\n      </b-row>\n      <hr>\n      <!-- <b-row>\n      <b-col sm=\"3\">\n      <label :for=\"`share-field-more-comment`\"><code>More comment</code>:</label>\n    </b-col>\n    <b-col sm=\"9\">\n    <b-form-input\n    :id=\"`share-field-more-comment`\"\n    placeholder=\"more comment\"\n    v-model=\"query.more_comment\"></b-form-input>\n  </b-col>\n</b-row> -->\n<hr>\n\n\n\n<div v-if=\"dataTemp!= undefined\">\n  Room with id {{roomId}} exist ->\n  <b-button  @click=\"append\" size=\"sm\" variant=\"info\">Append to room</b-button> or change roomId above.\n</div>\n<div v-else>\n  Room with id {{roomId}} does not exist ->\n  <b-button @click=\"create\" size=\"sm\" variant=\"info\">Create a new Room </b-button> or change roomId to append to an existing room.\n</div>\n</b-container>\n\n<div v-if=\"dataTemp != undefined\">\n  <hr><hr>\n  Found in room <b>{{roomId}}</b> :<br>{{ dataTemp.blocks}}\n</div>\n<!-- <hr>\ntitle: \"title\",\ntext: \"text\",\nurl: \"url\"\n\nuser {{ user}}\n<hr>\nif yes show existing room\nappend/add to room ? create new room ? replace ?\n<hr>\n{{ query }}\n<hr> -->\n<!-- -{{query}}-query\n<div v-for=\"(value, field) in query\" :key=\"field\">\n{{field}} :\n<b-input :placeholder=\"field\"\n:value=\"value\"\n/> -->\n<!-- </div> -->\n<!-- <b-input v-for=\"(value, field) in query\" :key=\"field\" :placeholder=\"field.name\" :value=\"field.value\" /> -->\n\n</div>\n</template>\n\n<script>\n\nexport default {\n  name: 'ShareView',\n  data(){\n    return{\n      query: null,\n      fields: [],\n      dataTemp: undefined,\n      roomId: null\n    }\n  },\n  created(){\n    console.log(this.$route.query)\n    this.query = this.$route.query\n    this.query[\"more comment\"] == undefined ? this.query[\"more comment\"] = '' : ''\n    this.roomId = this.$route.query.title\n    this.getDataTemp()\n  },\n  // mounted(){\n  //   this.getDataTemp()\n  // },\n  methods: {\n    async getDataTemp(){\n      this.dataTemp = await this.$getEditorMap(this.roomId)\n      console.log('{dataTemp}',this.dataTemp)\n    },\n    async append(){\n\n      let newBlocks = [\n        {\n          \"type\" : \"header\",\n          \"data\" : {\n            \"text\" : this.query.title,\n            \"level\" : 2\n          }\n        },\n        {\n          \"type\" : \"paragraph\",\n          \"data\" : {\n            \"text\" : this.query.text\n          }\n        },\n\n        {\n          \"type\" : \"paragraph\",\n          \"data\" : {\n            \"text\" : \"<a href='\"+this.query.url+\"'>\"+this.query.url+\"</a>\"\n          }\n        },\n        {\n          \"type\" : \"paragraph\",\n          \"data\" : {\n            \"text\" : this.query['more_comment']\n          }\n        }\n      ]\n      let dataBlocks = this.dataTemp.blocks.concat(newBlocks);\n      this.dataTemp.blocks = dataBlocks\n      let data = this.dataTemp\n\n      console.log(\"append\", this.query, data, this.roomId)\n      this.user.roomId = this.roomId\n      await this.$store.commit('actor/setUser', this.user)\n\n      //await this.$saveMap(this.roomId,data)\n\n      await this.$openRoom()\n      this.$store.commit('editor/setEditorData', data)\n\n    },\n    async create(){\n\n      let data = {\n        // \"time\" : 1550476186479,\n        \"blocks\" : [\n          {\n            \"type\" : \"header\",\n            \"data\" : {\n              \"text\" : this.query.title,\n              \"level\" : 2\n            }\n          },\n          {\n            \"type\" : \"paragraph\",\n            \"data\" : {\n              \"text\" : this.query.text\n            }\n          },\n\n          {\n            \"type\" : \"paragraph\",\n            \"data\" : {\n              \"text\" : \"<a href='\"+this.query.url+\"'>\"+this.query.url+\"</a>\"\n            }\n          },\n          {\n            \"type\" : \"paragraph\",\n            \"data\" : {\n              \"text\" : this.query['more_comment']\n            }\n          }\n        ],\n        // \"version\" : \"2.8.1\"\n      }\n\n      console.log(\"create\", this.query, data, this.roomId)\n      this.user.roomId = this.roomId\n      await this.$store.commit('actor/setUser', this.user)\n\n      //await this.$saveMap(this.rotitle_not_existomId,data)\n\n      await this.$openRoom()\n      this.$store.commit('editor/setEditorData', data)\n\n\n    },\n    changeRoomId(){\n      this.getDataTemp()\n    }\n  },\n  watch:{\n    user(){\n      this.getDataTemp()\n    }\n  },\n  computed: {\n    user() {\n      return this.$store.state.actor.user\n    }\n  }\n}\n\n</script>\n","import { render } from \"./ShareView.vue?vue&type=template&id=3094ca6e\"\nimport script from \"./ShareView.vue?vue&type=script&lang=js\"\nexport * from \"./ShareView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/smag/dev/noosmilk/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_createElementBlock","_hoisted_2","_createVNode","_component_b_container","fluid","_Fragment","_renderList","$data","value","field","_createBlock","_component_b_row","key","_component_b_col","sm","_toDisplayString","_component_b_form_input","id","placeholder","_hoisted_5","_hoisted_6","placeHolder","$event","onInput","$options","_hoisted_7","_hoisted_8","undefined","_hoisted_9","_component_b_button","onClick","size","variant","_hoisted_12","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_20","blocks","name","data","query","fields","dataTemp","roomId","created","console","log","this","$route","title","getDataTemp","methods","async","$getEditorMap","newBlocks","text","url","dataBlocks","concat","user","$store","commit","$openRoom","changeRoomId","watch","computed","state","actor","__exports__","render"],"sourceRoot":""}