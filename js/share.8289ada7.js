"use strict";(self["webpackChunknoosmilk"]=self["webpackChunknoosmilk"]||[]).push([[557],{9895:function(e,t,o){o.r(t),o.d(t,{default:function(){return D}});var a=o(3396),r=o(7139);const l={class:"about"},i=(0,a._)("h3",null,"Share in the Noosphere",-1),s=["for"],d=(0,a.Uk)(":"),u=(0,a._)("hr",null,null,-1),m=(0,a._)("label",{for:"roomId"},[(0,a._)("code",null,"roomId"),(0,a.Uk)(":")],-1),n=(0,a._)("hr",null,null,-1),h=(0,a._)("hr",null,null,-1),p={key:0},c=(0,a.Uk)("Append to room"),y=(0,a.Uk)(" or change roomId above. "),w={key:1},k=(0,a.Uk)("Create a new Room "),f=(0,a.Uk)(" or change roomId to append to an existing room. "),g={key:0},I=(0,a._)("hr",null,null,-1),_=(0,a._)("hr",null,null,-1),q=(0,a.Uk)(" Found in room "),b=(0,a.Uk)(" :"),v=(0,a._)("br",null,null,-1);function T(e,t,o,T,U,x){const $=(0,a.up)("b-col"),D=(0,a.up)("b-form-input"),W=(0,a.up)("b-row"),z=(0,a.up)("b-button"),C=(0,a.up)("b-container");return(0,a.wg)(),(0,a.iD)("div",l,[i,(0,a.Wm)(C,{fluid:""},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(U.query,((e,t)=>((0,a.wg)(),(0,a.j4)(W,{class:"my-1",key:t},{default:(0,a.w5)((()=>[(0,a.Wm)($,{sm:"3"},{default:(0,a.w5)((()=>[(0,a._)("label",{for:`share-field-${t}`},[(0,a._)("code",null,(0,r.zw)(t),1),d],8,s)])),_:2},1024),(0,a.Wm)($,{sm:"9"},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{id:`share-field-${t}`,placeholder:t,value:e},null,8,["id","placeholder","value"])])),_:2},1024)])),_:2},1024)))),128)),u,(0,a.Wm)(W,{class:"my-1"},{default:(0,a.w5)((()=>[(0,a.Wm)($,{sm:"3"},{default:(0,a.w5)((()=>[m])),_:1}),(0,a.Wm)($,{sm:"9"},{default:(0,a.w5)((()=>[(0,a.Wm)(D,{id:"roomId",placeHolder:"roomId",modelValue:U.roomId,"onUpdate:modelValue":t[0]||(t[0]=e=>U.roomId=e),onInput:x.changeRoomId},null,8,["modelValue","onInput"])])),_:1})])),_:1}),n,h,void 0!=U.dataTemp?((0,a.wg)(),(0,a.iD)("div",p,[(0,a.Uk)(" Room with id "+(0,r.zw)(U.roomId)+" exist -> ",1),(0,a.Wm)(z,{onClick:x.append,size:"sm",variant:"info"},{default:(0,a.w5)((()=>[c])),_:1},8,["onClick"]),y])):((0,a.wg)(),(0,a.iD)("div",w,[(0,a.Uk)(" Room with id "+(0,r.zw)(U.roomId)+" does not exist -> ",1),(0,a.Wm)(z,{onClick:x.create,size:"sm",variant:"info"},{default:(0,a.w5)((()=>[k])),_:1},8,["onClick"]),f]))])),_:1}),void 0!=U.dataTemp?((0,a.wg)(),(0,a.iD)("div",g,[I,_,q,(0,a._)("b",null,(0,r.zw)(U.roomId),1),b,v,(0,a.Uk)((0,r.zw)(U.dataTemp.blocks),1)])):(0,a.kq)("",!0)])}var U={name:"ShareView",data(){return{query:null,fields:[],dataTemp:void 0,roomId:null}},created(){console.log(this.$route.query),this.query=this.$route.query,void 0==this.query["more comment"]&&(this.query["more comment"]=""),this.roomId=this.$route.query.title,this.getDataTemp()},methods:{async getDataTemp(){this.dataTemp=await this.$getEditorMap(this.roomId),console.log("{dataTemp}",this.dataTemp)},async append(){let e=[{type:"header",data:{text:this.query.title,level:2}},{type:"paragraph",data:{text:this.query.text}},{type:"paragraph",data:{text:"<a href='"+this.query.url+"'>"+this.query.url+"</a>"}},{type:"paragraph",data:{text:this.query["more_comment"]}}],t=this.dataTemp.blocks.concat(e);this.dataTemp.blocks=t;let o=this.dataTemp;console.log("append",this.query,o,this.roomId),this.user.roomId=this.roomId,await this.$store.commit("actor/setUser",this.user),await this.$openRoom(),this.$store.commit("editor/setEditorData",o)},async create(){let e={blocks:[{type:"header",data:{text:this.query.title,level:2}},{type:"paragraph",data:{text:this.query.text}},{type:"paragraph",data:{text:"<a href='"+this.query.url+"'>"+this.query.url+"</a>"}},{type:"paragraph",data:{text:this.query["more_comment"]}}]};console.log("create",this.query,e,this.roomId),this.user.roomId=this.roomId,await this.$store.commit("actor/setUser",this.user),await this.$openRoom(),this.$store.commit("editor/setEditorData",e)},changeRoomId(){this.getDataTemp()}},watch:{user(){this.getDataTemp()}},computed:{user(){return this.$store.state.actor.user}}},x=o(89);const $=(0,x.Z)(U,[["render",T]]);var D=$}}]);
//# sourceMappingURL=share.8289ada7.js.map